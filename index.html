<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Janhen</title><meta name="author" content="Janhen"><meta name="copyright" content="Janhen"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="大数据、后端、运维分享">
<meta property="og:type" content="website">
<meta property="og:title" content="Janhen">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Janhen">
<meta property="og:description" content="大数据、后端、运维分享">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:author" content="Janhen">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2021-03-31 23:03:47'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Janhen" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">27</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">14</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">5</div></a></div></div></div><hr/></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Janhen</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Janhen</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/03/09/%E5%A4%A7%E6%95%B0%E6%8D%AE/" title="大数据">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="大数据"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/09/%E5%A4%A7%E6%95%B0%E6%8D%AE/" title="大数据">大数据</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-03-09T15:23:13.000Z" title="Created 2021-03-09 23:23:13">2021-03-09</time></span></div><div class="content">使用 Notion 做笔记，博客为 Notion 的部分导出。
</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/03/09/Hive-%E5%9F%BA%E7%A1%80/" title="Hive-基础">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hive-基础"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/09/Hive-%E5%9F%BA%E7%A1%80/" title="Hive-基础">Hive-基础</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-03-09T14:57:00.000Z" title="Created 2021-03-09 22:57:00">2021-03-09</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a></span></div><div class="content">Hive
[TOC]
基础说明
将 SQL 转换成 MapReduce 任务的工具。 基于 Hadoop 的数据仓库工具，存储和处理海量结构化的数据，可将结构化的数据映射成一张表

FaceBook 开发的海量数据查询工具，基本实现了 SQL-92 标准。
可以与 Druid, Kudu 进行集成 与 HBase 集成
说明
处理 HDFS 中的海量数据
通过 SQL 完成计算
基于Hadoop的数据仓库工具，可以将结构化的数据文件映射为一张表，并提供类SQL查询功能.
最适合数据仓库程序
缺点：
HQL 表达能力有限： 无法表示迭代计算，数据挖掘方面不擅长
效率低： 自动生成的 MR 效率，调优较困难
Pig: Hive 的替代品，apache 顶级项目 一种数据流语言，不是查询语言 常用语 ETL 中的一部分
HBase: 已经可以结合 Hive 使用
Thrift: 提供了可远程访问其他进程的功能，提供了使用 JDBC, ODBC 访问 Hive 的功能
HWI: 简单的网页界面
HQL：
Hive:

解释器: AST 抽象语法树
编译器
优化器
执行期
MetaStore

 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/03/09/Hive-%E4%BC%98%E5%8C%96/" title="Hive-优化">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hive-优化"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/09/Hive-%E4%BC%98%E5%8C%96/" title="Hive-优化">Hive-优化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-03-09T13:33:13.000Z" title="Created 2021-03-09 21:33:13">2021-03-09</time></span></div><div class="content">[TOC]
影响 Hive 效率的几乎从不是数据量过大，而是数据倾斜、数据冗余、Job / IO过多、MapReduce 分配不合理等。
架构优化执行引擎选择通过参数 hive.execution.engine 控制，可选 MapReduce, Tez, Spark, Flink 作为执行引擎，在离线数仓中，批处理方面主要使用 Spark
优化器的使用在真正执行计算之前，生成和优化逻辑执行计划与物理执行计划。

Vectorize 矢量化查询执行
Cost-Based Optimization: CBO 成本优化器

矢量化查询执行 要求执行引擎为Tez, 执行通过一次批量执行1024行而不是每行一行来提高扫描，聚合，过滤器和连接等操作的性能, 可一显着缩短查询执行时间。 需要使用 orc 格式存储数据
123-- 开启 set hive.vectorized.execution.enabled = true;set hive.vectorized.execution.reduce.enabled = true;

成本优化器 基于apache Calcite的，Hive的CBO通过查 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/03/09/Hive-%E5%87%BD%E6%95%B0/" title="Hive-函数">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hive-函数"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/09/Hive-%E5%87%BD%E6%95%B0/" title="Hive-函数">Hive-函数</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-03-09T13:30:52.000Z" title="Created 2021-03-09 21:30:52">2021-03-09</time></span></div><div class="content">[TOC]
函数分类

标准函数： 一列或多列作为参数传入，返回值是一个值的函数
如 to_date(string timestamp), sqrt(double a)

聚合函数： 接收0行、多行的列，返回单一的值

表生成函数： 接收 0 、 多个输入，产生多列 、 多行输出 如 explode


123show functions;desc function upper;desc function extended upper;

基础函数日期函数
current_date:
current_timestamp：
year(string date)
month(string date)
hour(string date)
minute(string date)
second(string date)
from_unixtime(bigint unixtime[, string format])：转换从 1970-01-01 00:00:00 UTC 开始的秒为日期
datediff(string enddate, string startdate): 计算时间差
day(str ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/03/09/Hive-HQL/" title="Hive-HQL">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hive-HQL"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/09/Hive-HQL/" title="Hive-HQL">Hive-HQL</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-03-09T13:28:56.000Z" title="Created 2021-03-09 21:28:56">2021-03-09</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a></span></div><div class="content">[TOC]
并不是所有的 HQL 都会被 Hive 转换成 MR 作业执行
HQL 是一种 SQL 方案，支持绝大部分的 SQL-92 标准
不支持行级别草俎哦、不支持事务
对于简单不需要聚合的操作，如 SELECT .. FROM xx LIMIT n，直接通过 FetchTask 获取数据
DML数据导入装载数据

LOCAL：
LOAD DATA LOCAL …：从本地文件系统加载数据到Hive表中
LOAD DATA …：从HDFS加载数据到Hive表中


INPATH：加载数据的路径
OVERWRITE：覆盖表中已有数据；否则表示追加数据
PARTITION：将数据加载到指定的分区

一旦该表存在分区，那么在数据在加载时必须加载进入指定分区中，如下：
12345678-- 加载数据并指定分区，HDFS文件，已经被转移LOAD DATA INPATH &#x27;/user/hadoop/data&#x27; INTO student_info PARTITION(province=&#x27;sichuan&#x27;, city=&#x27;chengdu&#x27;); ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/03/09/Scala%E9%9B%86%E5%90%88/" title="Scala集合">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Scala集合"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/09/Scala%E9%9B%86%E5%90%88/" title="Scala集合">Scala集合</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-03-09T13:26:10.000Z" title="Created 2021-03-09 21:26:10">2021-03-09</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a></span></div><div class="content">[TOC]
集合操作都有可变和不可变两种
集合的三大类：Seq、Set、Map

scala.collection.mutable：定义了可变集合的特质和具体实现类
scala.collection.immutable：定义了不可变集合的特质和具体实现类

所有的集合都扩展自 Iterable 特质。


String 属于 IndexedSeq
Queue 队列和 Stack 堆这两个经典的数据结构属于 LinearSeq
List列表属于 Seq 中的 LinearSeq

Seq按照一定顺序排列的元素序列；
元素的顺序是确定的，每个元素对应一个索引值；
两个重要的子特质：

IndexedSeq：提供了快速随机访问元素的功能，它通过索引来查找和定位的
LinearSeq：提供了访问 head、tail 的功能，它是线型的，有头部和尾部的概念，通过遍历来查找。

ListList一旦被定义，其值就不能改变。
有头部和尾部的概念

head 返回的是列表第一个元素的值
tail 返回的是除第一个元素外的其它元素构成的新列表

定义了一个空列表对象Nil，定义为List[Nothing ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/03/09/Scala%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/" title="Scala语言基础">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Scala语言基础"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/09/Scala%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/" title="Scala语言基础">Scala语言基础</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-03-09T13:23:27.000Z" title="Created 2021-03-09 21:23:27">2021-03-09</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a></span></div><div class="content">Scala 基础语言起源
12345马丁·奥德斯基（Martin Odersky）是编译器及编程的狂热爱好者。主流JVM的Javac编译器就是马丁·奥德斯基编写出来的，JDK5.0、JDK8.0的编译器就是他写的。 长时间的编程之后，他希望发明一种语言，能够让写程序这样的基础工作变得高效，简单。 当接触到Java语言后，对Java这门语言产生了极大的兴趣，所以决定将函数式编程语言的特点融合到Java中，由此发 明了Scala。

语言特性：

OOP
函数式编程
静态类型，参考 Haskell、Errlang
并发性，使用 Actor 作为并发模型，可复用线程

应用场景：

Kafka、Spar 等框架底层都是使用 Scala 作为底层源码开发语言
融合大数据生态，Flink 支持 Scala 开发

Scala 的 REPL
REPL 是一个交互式解析器环境，R(read)、E(evaluate) 、P（print）、L（loop） 输入值，交互式解析器会读取输入内容并对它求值，再打印结果，并重复此过程。
在命令行输入Scala可启动Scala REPL。
基础语法
区分大小写 - ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/03/09/Vagrent/" title="Vagrent">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vagrent"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/09/Vagrent/" title="Vagrent">Vagrent</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-03-09T13:17:56.000Z" title="Created 2021-03-09 21:17:56">2021-03-09</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a></span></div><div class="content">[TOC] 
Vagrant
快速搭建虚拟机环境，可通过 Vagrantfile 配置文件进行定制，类似 Docker 管理容器。

一些特性：

多种虚拟器支持，如 VirsualBox(默认)、 Vmware、Docker、Hyper-V
方便网络配置，支持端口转发，配置私有、公有网络
方便进行宿主机与虚拟机之间共享文件提供丰富的插件，简化日常使用

环境安装Virtual Box
Oracle 开源的虚拟机软件，跨平台
在 winows 上无法同时运行 Hyper-V 和 VisualBox，两者都是基于 CPU 等底层硬件的 Hypervisor 机制来实现的，而他们必须独占管理 Hypervisor。通过开启启动项选择是否加载 Hyper-V 服务，实现伪同时运行。
问题由来： Docker 安装在 win10 上需要开启 Hyper-V，方便进行本地镜像的打包部署，同时需要 VirtualBox 进行模拟集群。
问题处理：
解决Win7/8/10系统中的Hyper-V和VMware虚拟机软件共存问题
Virtualbox “Callee RC: REGDB_E_CLASSN ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/12/17/Java-%E5%B9%B6%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Java 并发学习笔记">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java 并发学习笔记"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/12/17/Java-%E5%B9%B6%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Java 并发学习笔记">Java 并发学习笔记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2020-12-17T14:53:30.000Z" title="Created 2020-12-17 22:53:30">2020-12-17</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a></span></div><div class="content">线程
Java 代码首先会编译成Java字节码，字节码被类加载器加载到JVM里，JVM执行字节码，最终需要转化为汇编指令在CPU上进行执行。
Java中所使用的并发机制依赖于 JVM 的实现和 CPU 的指令。

创建方式(1) extends Thread
当调用 start() 方法启动一个线程时，虚拟机会将该线程放入就绪队列中等待被调度，当一个线程被调度时会执行该线程的 run() 方法。
12MyThread t1 = new MyThread();t1.start();

(2) Runnable
(3) Callable
与 Runnable 相比，Callable 可以有返回值，且可以跑出异常，返回值通过 FutureTask 进行封装。
(4) ThreadPool
继承与实现接口的比较
优先实现接口
① Thread 只能够通过单继承来实现；
② Thread 创建开销大，Runnable 创建的开销小；
③ Runnable 实现解耦； 可以配合线程池使用
生命周期

12345678public enum State &#123;    NEW,    RUNNA ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/12/17/Docker-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Docker 学习笔记">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker 学习笔记"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/12/17/Docker-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Docker 学习笔记">Docker 学习笔记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2020-12-17T14:41:19.000Z" title="Created 2020-12-17 22:41:19">2020-12-17</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a></span></div><div class="content">Docker 基础
类似精简的 Linux 环境，含 root 权限、进程空间、用户空间和网络空间，以及运行在其中的应用程序


Client： 客户端通过 CLI 命令与 Docker 交互Docker daemon： 宿主机的守护进程，通过 RESTful 接口处理 Client 的命令，连接 Registry 进行镜像的拉取的推送，具体配置见 [Daemon配置](#Daemon 配置)Registry： 保存 image 的地方，实现 image 的维护、复用Image： 静态的镜像，可根据 Image 运行 containerContainer： 依据 Image 生成的具体的容器，实际运行的程序
Docker 底层实现原理：

Namespaces：做隔离pid，net，ipc，mnt，uts
Control groups(cgroups)：做资源限制
Union file systems: Container和image的分层，分层文件系统

镜像
一个特殊的文件系统，提供容器运行时所需的程序，同时包含一些为运行时准备的配置参数，无法更改

镜像的获取

根据 Docke ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="page-number" href="/page/3/#content-inner">3</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Janhen</div><div class="author-info__description">大数据、后端、运维分享</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">27</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">14</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">5</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/03/09/%E5%A4%A7%E6%95%B0%E6%8D%AE/" title="大数据"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="大数据"/></a><div class="content"><a class="title" href="/2021/03/09/%E5%A4%A7%E6%95%B0%E6%8D%AE/" title="大数据">大数据</a><time datetime="2021-03-09T15:23:13.000Z" title="Created 2021-03-09 23:23:13">2021-03-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/09/Hive-%E5%9F%BA%E7%A1%80/" title="Hive-基础"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hive-基础"/></a><div class="content"><a class="title" href="/2021/03/09/Hive-%E5%9F%BA%E7%A1%80/" title="Hive-基础">Hive-基础</a><time datetime="2021-03-09T14:57:00.000Z" title="Created 2021-03-09 22:57:00">2021-03-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/09/Hive-%E4%BC%98%E5%8C%96/" title="Hive-优化"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hive-优化"/></a><div class="content"><a class="title" href="/2021/03/09/Hive-%E4%BC%98%E5%8C%96/" title="Hive-优化">Hive-优化</a><time datetime="2021-03-09T13:33:13.000Z" title="Created 2021-03-09 21:33:13">2021-03-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/09/Hive-%E5%87%BD%E6%95%B0/" title="Hive-函数"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hive-函数"/></a><div class="content"><a class="title" href="/2021/03/09/Hive-%E5%87%BD%E6%95%B0/" title="Hive-函数">Hive-函数</a><time datetime="2021-03-09T13:30:52.000Z" title="Created 2021-03-09 21:30:52">2021-03-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/09/Hive-HQL/" title="Hive-HQL"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hive-HQL"/></a><div class="content"><a class="title" href="/2021/03/09/Hive-HQL/" title="Hive-HQL">Hive-HQL</a><time datetime="2021-03-09T13:28:56.000Z" title="Created 2021-03-09 21:28:56">2021-03-09</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/"><span class="card-category-list-name">前端</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%90%8E%E7%AB%AF/"><span class="card-category-list-name">后端</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"><span class="card-category-list-name">大数据</span><span class="card-category-list-count">8</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><span class="card-category-list-name">算法与数据结构</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%BF%90%E7%BB%B4/"><span class="card-category-list-name">运维</span><span class="card-category-list-count">6</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/Docker/" style="font-size: 1.1em; color: #999">Docker</a> <a href="/tags/Hadoop/" style="font-size: 1.4em; color: #99a5b6">Hadoop</a> <a href="/tags/Hive/" style="font-size: 1.5em; color: #99a9bf">Hive</a> <a href="/tags/Java/" style="font-size: 1.1em; color: #999">Java</a> <a href="/tags/Kafka/" style="font-size: 1.1em; color: #999">Kafka</a> <a href="/tags/Leetcode/" style="font-size: 1.1em; color: #999">Leetcode</a> <a href="/tags/Linux/" style="font-size: 1.2em; color: #999da3">Linux</a> <a href="/tags/React/" style="font-size: 1.1em; color: #999">React</a> <a href="/tags/Scala/" style="font-size: 1.2em; color: #999da3">Scala</a> <a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" style="font-size: 1.1em; color: #999">大数据</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 1.3em; color: #99a1ac">工具</a> <a href="/tags/%E5%B9%B6%E5%8F%91/" style="font-size: 1.1em; color: #999">并发</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.3em; color: #99a1ac">算法</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.1em; color: #999">设计模式</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/03/"><span class="card-archive-list-date">March 2021</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/12/"><span class="card-archive-list-date">December 2020</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/11/"><span class="card-archive-list-date">November 2020</span><span class="card-archive-list-count">13</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">27</div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-03-31T15:03:47.492Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Janhen</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>