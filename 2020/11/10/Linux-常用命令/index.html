<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Linux 常用命令 | Janhen</title><meta name="keywords" content="Linux"><meta name="author" content="Janhen"><meta name="copyright" content="Janhen"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="概述命令设计Postel 原则： 宽进严出尽可能自由宽松接受输入格式，并输出格式良好的严谨输出格式。宽进减少了过滤器在面对非预期输入时出错的可能性，以及特定情况下崩溃的可能性。严出提高过滤器被其他程序用作输入的可能性。 命令的风格  POSIX GNU MS-DOS     123# POSIX 集中短参数tar -c -f xx.tar xx.txt yy.txttar -cfxx.tar xx">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux 常用命令">
<meta property="og:url" content="http://example.com/2020/11/10/Linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/index.html">
<meta property="og:site_name" content="Janhen">
<meta property="og:description" content="概述命令设计Postel 原则： 宽进严出尽可能自由宽松接受输入格式，并输出格式良好的严谨输出格式。宽进减少了过滤器在面对非预期输入时出错的可能性，以及特定情况下崩溃的可能性。严出提高过滤器被其他程序用作输入的可能性。 命令的风格  POSIX GNU MS-DOS     123# POSIX 集中短参数tar -c -f xx.tar xx.txt yy.txttar -cfxx.tar xx">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg">
<meta property="article:published_time" content="2020-11-10T14:27:31.000Z">
<meta property="article:modified_time" content="2020-12-30T00:37:27.732Z">
<meta property="article:author" content="Janhen">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2020/11/10/Linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2020-12-30 08:37:27'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Janhen" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="http://img.janhen.com/20210331220602f7HmbN.pnghttp://img.janhen.com/20210331220602f7HmbN.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">34</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">18</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">4</div></a></div></div></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Janhen</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Linux 常用命令</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2020-11-10T14:27:31.000Z" title="Created 2020-11-10 22:27:31">2020-11-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2020-12-30T00:37:27.732Z" title="Updated 2020-12-30 08:37:27">2020-12-30</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Linux 常用命令"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><h3 id="命令设计"><a href="#命令设计" class="headerlink" title="命令设计"></a>命令设计</h3><p>Postel 原则： 宽进严出<br>尽可能自由宽松接受输入格式，并输出格式良好的严谨输出格式。<br>宽进减少了过滤器在面对非预期输入时出错的可能性，以及特定情况下崩溃的可能性。<br>严出提高过滤器被其他程序用作输入的可能性。</p>
<p>命令的风格</p>
<ul>
<li>POSIX</li>
<li>GNU</li>
<li>MS-DOS   </li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> POSIX 集中短参数</span></span><br><span class="line">tar -c -f xx.tar xx.txt yy.txt</span><br><span class="line">tar -cfxx.tar xx.txt yy.txt</span><br></pre></td></tr></table></figure>



<p>命令的参数:</p>
<ul>
<li>可用选项  </li>
<li>选项参数: key=val  </li>
<li>子命令: 分割子命令显示不同的信息</li>
<li>密码参数: 防止根据 <code>history</code> 获取出用户密码</li>
<li>位置参数: 多个值按序解析 </li>
<li>支持多种类型的参数: 如发布的日志，传入文件名称自动解析文件内容作为参数，传入字符串  </li>
<li>支持自定义参数的解析:  可提供自定义的转换器，将参数映射成一个枚举项，指定的类对象</li>
<li>参数类型: <code>File</code>, <code>Date</code>, <code>URL</code>, <code>Pattern</code>..  </li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Show interval and count </span></span><br><span class="line">vmstat 1 10</span><br></pre></td></tr></table></figure>



<h3 id="常见参数"><a href="#常见参数" class="headerlink" title="常见参数"></a>常见参数</h3><ul>
<li><p>–usage:  给定短的使用消息  </p>
</li>
<li><p><code>-verbose</code>: 显示 Debug 日志  </p>
</li>
<li><p><code>-v</code> / <code>-vvv</code>: 的个数越多显示的日志越详细, 如 ansible 执行时通过 -vvv 显示运行时候的详细信息</p>
</li>
<li><p><code>-V</code>/<code>--version</code>: 显示版本信息  </p>
</li>
<li><p>-a:<br>所有项，与 <code>--all</code> 同名的选项<br>添加（append), 与 tar 中一样</p>
</li>
<li><p>-b<br>缓冲区(buffer) 大小/block 的大小， du、df、tar 中使用<br>批处理（batch）禁用提示/设置通过属性接受文件的输入</p>
</li>
<li><p>-c<br>命令（带参数），如 sh、python<br>检查（check) 不带参数，检查命令/配置是否正确</p>
</li>
<li><p>-d<br>调试（debug)，带或不带参数，设置调试信息级别<br>删除(delete)<br>目录（directory)</p>
</li>
<li><p>-D<br>定义(define) 带参数</p>
</li>
<li><p>-e<br>执行(execute) (带参数)<br>编辑(edit)，如 crontab<br>排除(exclude)</p>
</li>
<li><p>-f<br>文件(file)(带参数)<br>强制(force), 如 git push -f xxx、ssh</p>
</li>
<li><p>-h<br>表头（header)<br>帮助(help)</p>
</li>
<li><p>-i<br>初始化<br>交互执行，如 <code>docker exec -it &lt;container-name&gt; bash</code></p>
</li>
<li><p>-I<br>包含</p>
</li>
<li><p>-k: 保留，禁止资源的常规删除</p>
</li>
<li><p>-l:<br>列表<br>加载：<br>登陆： ssh 等要求网络身份</p>
</li>
</ul>
<p>常用的命令缩写:<br>-h: 主机<br>-P: 端口<br>-u: 用户<br>-p: 密码<br>-t: 测试配置文件<br>-c: 指定配置文件地址  </p>
<p>常用的子命令<br><code>start</code>:<br><code>stop</code>:<br><code>restart</code>:<br><code>reload</code>:  </p>
<h3 id="命令工具"><a href="#命令工具" class="headerlink" title="命令工具"></a>命令工具</h3><p><strong>fzf</strong></p>
<blockquote>
<p>模糊搜索工具</p>
<p>配置 Ctrl + R 快捷键自动根据 history 中的数据搜索</p>
</blockquote>
<img src="http://img.janhen.com/image-20201129000402250.png" alt="image-20201129000402250" style="zoom: 33%;" />



<p><strong>the_silver_searcher</strong></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/ggreer/the_silver_searcher">GitHub</a></p>
</blockquote>
<p>替代 grep 的 Linux 工具，类似于ack的代码搜索工具，但速度更快。</p>
<p>可通过 <code>.gitignore</code>、 <code>.hgignore</code> 、<code>.ignore</code> 忽略指定文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install the_silver_searcher</span><br></pre></td></tr></table></figure>



<p><strong>navi</strong></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/denisidoro/navi">Github</a></p>
<p>命令行和应用程序启动器的交互式备忘单工具。</p>
</blockquote>
<p>基于 fzf 对命令进行搜索, 可按照特定的标签进行组织命令，支持通过 <code>&lt;name&gt;</code> 指定参数</p>
<img src="http://img.janhen.com/image-20201128235948928.png" alt="image-20201128235948928" style="zoom:33%;" />





<p><strong>nohup</strong></p>
<blockquote>
<p>允许用户退出帐户/关闭终端之后继续运行相应的进程</p>
</blockquote>
<ul>
<li>/dev/null，代表linux的空设备文件，所有往这个文件里面写入的内容都会丢 失，俗称黑洞 </li>
<li>标准输入0，从键盘获得输入 /proc/self/fd/0 </li>
<li>标准输出1，输出到屏幕（控制台） /proc/self/fd/1 </li>
<li>错误输出2，输出到屏幕（控制台） /proc/self/fd/2</li>
<li><code>&gt;/dev/null </code> 标准输出1重定向到 /dev/null 中，此时标准输出不存在，没有任 何地方能够找到输出的内容 2&gt;&amp;1 错误输出将会和标准输出输出到同一个地方</li>
<li><code>&gt;/dev/null 2&gt;&amp;1</code> 不会输出任何信息到控制台，也不会有任何信息输出到文件中</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nohup flume-ng agent --conf /opt/apps/flume-1.9/conf \</span><br><span class="line">  --conf-file /data/lagoudw/conf/flume-log2hdfs3.conf \</span><br><span class="line">  -name a1 \</span><br><span class="line">  -Dflume.root.logger=INFO,LOGFILE &gt; /dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>



<p><strong>lrzsz</strong></p>
<blockquote>
<p>文件的上传和下载工具，只支持文件，不支持文件夹，配合 tar 命令使用，配合 SSH 连接使用</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum -y install lrzsz</span><br><span class="line"><span class="meta">#</span><span class="bash"> 选择本地文件上传到服务器</span></span><br><span class="line">rz </span><br><span class="line"><span class="meta">#</span><span class="bash"> 从服务器下载文件到本地</span></span><br><span class="line">sz &lt;file&gt;</span><br></pre></td></tr></table></figure>



<p><strong>ipvsadm</strong></p>
<blockquote>
<p>LVS 管理工具</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查案负载情况</span></span><br><span class="line">ipvsadm -l</span><br></pre></td></tr></table></figure>



<p><strong>zsh</strong></p>
<blockquote>
<p>辅助命令编写，带有提示</p>
</blockquote>
<p>可进行 alias 指定, 主题选择，插件选择</p>
<p><strong>sort</strong> </p>
<p>用于排序。</p>
<ul>
<li>-f ：忽略大小写  </li>
<li>-b ：忽略最前面的空格  </li>
<li>-M ：以月份的名字来排序，例如 JAN，DEC  </li>
<li>-n ：使用数字  </li>
<li>-r ：反向排序  </li>
<li>-u ：相当于 unique，重复的内容只出现一次  </li>
<li>-t ：分隔符，默认为 tab  </li>
<li>-k ：指定排序的区间  </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du -sm * | sort -nr | head -n 10 </span><br></pre></td></tr></table></figure>



<p><strong>uniq</strong> </p>
<p>可以将重复的数据只取一个。  </p>
<ul>
<li>-i ：忽略大小写</li>
<li>-c ：进行计数</li>
</ul>
<p>当前目录下的磁盘情况</p>
<p><strong>tee</strong><br>输出重定向会将输出内容重定向到文件  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tee [-a] &lt;file&gt;</span><br></pre></td></tr></table></figure>



<p><strong>paste</strong></p>
<p>字符转换</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">paste [-d] file1 file2</span><br><span class="line">-d ：分隔符，默认为 tab</span><br></pre></td></tr></table></figure>



<p><strong>rsync</strong></p>
<blockquote>
<p>远程同步工具</p>
<p>速度快、避免复制相同内容和支持符号链接。</p>
<p>rsync只对差异文件做更新。scp是把所有文件都复制过去。</p>
</blockquote>
<ul>
<li><code>-r</code></li>
<li><code>-v</code>: 显示复制过程</li>
<li><code>-l</code>: 复制符号链接</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y rsync</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -rvl /opt/module root@linux123:/opt/</span><br></pre></td></tr></table></figure>



<h2 id="基础命令"><a href="#基础命令" class="headerlink" title="基础命令"></a>基础命令</h2><p><strong>cat</strong>  </p>
<ul>
<li><code>-n</code>: 显示文本的行号  </li>
<li><code>-T, --show-tabs</code>:  使用 <code>^I</code> 标示 Tab 字符      </li>
<li><code>-E, --show-ends </code>:  显示 <code>$</code> 作为每行的末尾<br>Ctrl + D 终止输入    <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat &gt; SampleTextFile.txt</span><br></pre></td></tr></table></figure>



</li>
</ul>
<p><strong>File</strong></p>
<p>显示文件字符集</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file -i test_info.sh</span><br></pre></td></tr></table></figure>




<p><strong>iconv:</strong><br>文本字符集转换   </p>
<ul>
<li>-f, –from-code=NAME:  来源字符集编码  </li>
<li>-t, –to-code=NAME： 目的字符集编码  </li>
<li>-o, –output=FILE：  输出文件名  </li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iconv -f ISO-8859-1 -t UTF-8 in.txt &gt; out.txt</span><br></pre></td></tr></table></figure>



<h3 id="信息查看"><a href="#信息查看" class="headerlink" title="信息查看"></a>信息查看</h3><p>RedHat 类系统信息查看</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/os-release</span><br></pre></td></tr></table></figure>



<p><strong>系统相关</strong></p>
<blockquote>
<p>系统服务相关，包括查看状态、停止运行、重新加载、开机自启</p>
<p>主机域名映射，实现 hosts </p>
<p>环境变量控制，实现增加环境变量</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看系统应用状态</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 停止系统应用</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重新加载系统应用</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 将系统应用开机自启</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看失败的系统应用</span></span><br><span class="line">systemctl status redis_6379</span><br><span class="line">systemctl status docker</span><br><span class="line">systemctl stop redis_6379</span><br><span class="line">systemctl reload docker.service</span><br><span class="line">systemctl enable docker.service</span><br><span class="line">systemctl --failed</span><br></pre></td></tr></table></figure>



<p><strong>系统基本信息</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看系统总信息</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看系统的位数, 配合下载 URL 使用</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看系统内核版本</span></span><br><span class="line">uname -a</span><br><span class="line">uname -m</span><br><span class="line">uname -r</span><br></pre></td></tr></table></figure>

<p><strong>CPU 情况</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 总核数 = 物理CPU个数 X 每颗物理CPU的核数 </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 总逻辑CPU数 = 物理CPU个数 X 每颗物理CPU的核数 X 超线程数</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看物理CPU个数</span></span><br><span class="line">cat /proc/cpuinfo| grep &quot;physical id&quot;| sort| uniq| wc -l</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看每个物理CPU中core的个数(即核数)</span></span><br><span class="line">cat /proc/cpuinfo| grep &quot;cpu cores&quot;| uniq</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看逻辑CPU的个数</span></span><br><span class="line">cat /proc/cpuinfo| grep &quot;processor&quot;| wc -l</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看CPU信息（型号）</span></span><br><span class="line">cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c</span><br></pre></td></tr></table></figure>

<p>CPU 整体信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lscpu</span><br></pre></td></tr></table></figure>

<p>各个 CPU 的情况</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mpstat -P ALL</span><br></pre></td></tr></table></figure>

<p>连续的 CPU 情况</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mpstat -P ALL 1 300</span><br></pre></td></tr></table></figure>


<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看僵尸进程</span></span><br><span class="line">ps -al | gawk &#x27;&#123;print $2,$4&#125;&#x27; | grep Z</span><br></pre></td></tr></table></figure>

<p>查看进程实际使用的内存情况</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -e -o &#x27;pid,comm,args,pcpu,rsz,vsz,stime,user,uid&#x27; |  sort -nrk5</span><br></pre></td></tr></table></figure>

<p><strong>运行负载情况</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">top</span><br><span class="line">top -p 3306</span><br></pre></td></tr></table></figure>



<p><strong>内存使用情况</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">free -m</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看内存使用百分比</span></span><br><span class="line">free | sed -n &#x27;2p&#x27; | gawk &#x27;x = int(( $3 / $2 ) * 100) &#123;print x&#125;&#x27; | sed &#x27;s/$/%/&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 释放内存</span></span><br><span class="line">echo 1 &gt;/proc/sys/vm/drop_caches</span><br><span class="line">echo 2 &gt;/proc/sys/vm/drop_caches</span><br><span class="line">echo 3 &gt;/proc/sys/vm/drop_caches</span><br></pre></td></tr></table></figure>



<p><strong>磁盘占用情况</strong></p>
<p>可以作为部署时候的参考</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df -h</span><br><span class="line">df -sh *</span><br></pre></td></tr></table></figure>



<p><strong>文件句柄数</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ulimit -n</span><br></pre></td></tr></table></figure>



<h3 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h3><p>查看端口使用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ss -nelp | grep 22</span><br><span class="line">netstat -lntp | grep 22</span><br></pre></td></tr></table></figure>



<p>查看IP 地址</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Show all interface ip addr</span></span><br><span class="line">ifconfig | grep -Eo &#x27;inet (addr:)?([0-9]*\.)&#123;3&#125;[0-9]*&#x27; | grep -Eo &#x27;([0-9]*\.)&#123;3&#125;[0-9]*&#x27; | grep -v &#x27;127.0.0.1&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Specified interface</span></span><br><span class="line">ifconfig eno1 | grep -Eo &#x27;inet (addr:)?([0-9]*\.)&#123;3&#125;[0-9]*&#x27; | grep -Eo &#x27;([0-9]*\.)&#123;3&#125;[0-9]*&#x27;</span><br><span class="line">ifconfig eth0 | grep -Eo &#x27;inet (addr:)?([0-9]*\.)&#123;3&#125;[0-9]*&#x27; | grep -Eo &#x27;([0-9]*\.)&#123;3&#125;[0-9]*&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 连接指定端口 </span></span><br><span class="line">telnet IP PORT  </span><br><span class="line"><span class="meta">#</span><span class="bash"> dns 解析相关</span></span><br><span class="line">nslookup sina.com    </span><br><span class="line"><span class="meta">#</span><span class="bash"> 从主机到互联网另一端的主机走的什么路径  </span></span><br><span class="line">traceroute sina.com  </span><br><span class="line"></span><br><span class="line">sar  </span><br><span class="line"><span class="meta">#</span><span class="bash"> 网络状况分析跟踪  </span></span><br><span class="line">tcpdump</span><br></pre></td></tr></table></figure>

<p>Tcp 端口监听情况</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">netstat -lntp | grep &lt;port&gt;</span><br><span class="line">ps -ef | grep &lt;port&gt;</span><br><span class="line">lsof -i tcp:&lt;port&gt;</span><br></pre></td></tr></table></figure>

<p>Tcp 状态连接统计  </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -an | awk &#x27;/^tcp/ &#123;++s[$NF]&#125; END &#123;for(a in s) print a,s[a]&#125;&#x27; </span><br></pre></td></tr></table></figure>

<p>bridge-utils： yum install bridge-utils</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Linux 本地系统的转发支持，  0,1 语义..</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置开启转发</span></span><br><span class="line">sysctl net.ipv4.ip_forward</span><br><span class="line">sysctl -w net.ipv4.ip_forward=1</span><br><span class="line"><span class="meta">#</span><span class="bash"> iptables 关联命令</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   查看 NAT 的端口映射， 显示伪装地址，端口映射情况</span></span><br><span class="line">iptables -t nat -nL</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看 bridge 情况</span></span><br><span class="line">brctl show</span><br><span class="line"><span class="meta">#</span><span class="bash"> 网络运行情况</span></span><br><span class="line">netstat -anop</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看本机网卡</span></span><br><span class="line">nmcli d</span><br></pre></td></tr></table></figure>



<p><strong>网卡配置</strong></p>
<p>打开文件**/etc/sysconfig/network**来修改主机名和DNS</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-ens160</span><br><span class="line"></span><br><span class="line">ONBOOT=yes</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">DNS1=172.17.0.211</span><br><span class="line">DNS2=172.17.0.221</span><br><span class="line">IPADDR=172.17.10.137    # 更改</span><br><span class="line">NETMASK=255.255.240.0</span><br><span class="line">GATEWAY=172.17.0.49</span><br><span class="line"></span><br><span class="line">systemctl restart network</span><br><span class="line">ping 8.8.8.8</span><br><span class="line">ping 172.17.0.49</span><br><span class="line">ping baidu.com</span><br></pre></td></tr></table></figure>



<p><strong>域名主机名配置</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/hostname</span><br><span class="line">hostnamectl </span><br><span class="line">hostnamectl set-hostname cnode</span><br><span class="line">echo &quot;172.17.10.153 cnode1&quot; &gt;&gt; /etc/hosts</span><br></pre></td></tr></table></figure>



<p><strong>防火墙相关</strong></p>
<blockquote>
<p>线上服务器必须使用，当前为 Centos7 自带防火墙，局域网一般可以关闭</p>
<p>开启、关闭防火墙，基本信息查看</p>
<p>开放或关闭某个|一个数据段的端口，</p>
<p>开放或关闭某个|多个服务</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 停止并关闭开机启动防火墙</span></span><br><span class="line">systemctl stop firewalld</span><br><span class="line">systemctl disable firewalld</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看防火墙版本号</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看防火墙状态</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动防火墙</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 列出所有zone</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看特定区域，不指定默认为 public</span></span><br><span class="line">firewall-cmd --version</span><br><span class="line">firewall-cmd --state</span><br><span class="line">systemctl start firewalld.service</span><br><span class="line">firewall-cmd --get-zones</span><br><span class="line">firewall-cmd --get-default-zone</span><br><span class="line">firewall-cmd --list-zone</span><br><span class="line">firewall-cmd --list-all</span><br><span class="line">firewall-cmd --zone=pulic</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看开放的端口</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 开启需要的端口</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重新加载端口</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看开放端口验证</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看某个端口</span></span><br><span class="line">firewall-cmd --list-port</span><br><span class="line">firewall-cmd --permanent --zone=public --add-port=3306/tcp</span><br><span class="line">firewall-cmd --permanent --zone=public --add-port=22/tcp</span><br><span class="line">firewall-cmd --reload</span><br><span class="line">firewall-cmd --list-port</span><br><span class="line">firewall-cmd --query-port=22/tcp</span><br><span class="line">firewall-cmd --add-port=22/tcp</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看开放的端口</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除某个|某段的端口</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重新加载</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 验证开放端口情况</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 关闭防火墙</span></span><br><span class="line">firewall-cmd --list-port</span><br><span class="line">firewall-cmd --permanent --remove-port=2000-20002/tcp </span><br><span class="line">firewall-cmd --reload</span><br><span class="line">firewall-cmd --list-port</span><br><span class="line">firewall-cmd --zone=public --list-ports</span><br><span class="line"><span class="meta">#</span><span class="bash"> 开启|关闭某个服务</span></span><br><span class="line">firewall-cmd --add-service ftp --permanent</span><br><span class="line">firewall-cmd --remove-service --permanent</span><br><span class="line">firewall-cmd --zone=public --list-services</span><br></pre></td></tr></table></figure>



<p><strong>iptables 相关</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 对于请求 8082 端口的全部丢弃掉</span></span><br><span class="line">iptables -I INPUT -p tcp --dport 8082 -j DROP</span><br></pre></td></tr></table></figure>



<p><strong>net-tools</strong></p>
<blockquote>
<p>常用的网络工具</p>
</blockquote>
<p>可以使用 Linux 旧有支持的命令，以及扩展的网络工具</p>
<p>route： 如 <code>route -n</code> 命令，等价于现在自带的 <code>ip -r</code> 命令</p>
<p>netstat： 常用的网络工具</p>
<p>ifconfig： 废弃命令，在 Linux 上使用 <code>ip address</code> 代替，简写成 <code>ip a</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 添加默认网关模板以及对应的实例</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 验证设置网关的结果</span></span><br><span class="line">route add default gw &#123;IP-ADDRESS&#125; &#123;INTERFACE-NAME&#125;</span><br><span class="line">route add default gw 192.168.2.254 eth0</span><br><span class="line">route -n</span><br><span class="line"><span class="meta">#</span><span class="bash"> Linux 自带命令</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 配置默认网关</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 验证执行情况</span></span><br><span class="line">ip route add default via 192.168.1.254</span><br><span class="line">ip r</span><br></pre></td></tr></table></figure>



<h3 id="磁盘"><a href="#磁盘" class="headerlink" title="磁盘"></a>磁盘</h3><p>查看指定目录下文件的大小，排序并只显示TOP10</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du -sh * | sort -hr | head -n 10</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo find /var/lib/docker/containers -name *.log</span><br><span class="line"></span><br><span class="line">sudo du -d1 -h /var/lib/docker/containers | sort -h</span><br><span class="line">sudo du -d1 -h /var/lib/docker | sort -h</span><br><span class="line"></span><br><span class="line">docker inspect --format=&#x27;&#123;&#123;.LogPath&#125;&#125;&#x27; iwms-openapi</span><br></pre></td></tr></table></figure>

<p>磁盘挂载</p>
<ul>
<li><code>du -sh *</code>: 查看目录占用的空间情况</li>
<li><code>df -h</code>：查看磁盘占用情况</li>
<li><code>df -T</code>：查看所有磁盘的文件系统类型(type)</li>
<li><code>fdisk -l</code>：查看所有被系统识别的磁盘</li>
<li><code>mount -t type device dir</code>：挂载device到dir</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fdisk /dev/sdb</span><br><span class="line"><span class="meta">#</span><span class="bash"> 格式化分区</span></span><br><span class="line">mkfs -t ext4 /dev/vdb1</span><br></pre></td></tr></table></figure>

<ul>
<li>mkfs -t ext4 /dev/vdb1:  格式化分区</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">umount /data   ##卸载data目录下分区</span><br><span class="line"><span class="meta">#</span><span class="bash"> 分区的UUID</span></span><br><span class="line">ls -l  /dev/disk/by-uuid/</span><br><span class="line"><span class="meta">#</span><span class="bash"> 开机自动挂载</span></span><br><span class="line">vim /etc/fstab </span><br><span class="line">  /dev/sdb    /data    ext4    defaults    0 0</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看硬盘以及分区情况</span></span><br><span class="line">lsblk</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 比如要扩充 /var</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在创建好文件系统后 新建临时挂载点 storage</span></span><br><span class="line">mkdir /storage</span><br><span class="line"><span class="meta">#</span><span class="bash"> 将/dev/sdb1挂载到/storage下</span></span><br><span class="line">mount /dev/sdb1  /storage</span><br><span class="line"><span class="meta">#</span><span class="bash"> 拷贝/var下的所有内容到新的硬盘</span></span><br><span class="line">cp -pdr /var /storage</span><br><span class="line"><span class="meta">#</span><span class="bash"> 或在/var 目录下执行：find . -depth -<span class="built_in">print</span> | cpio - pldvm /temp</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除当前/var目录下的内容</span></span><br><span class="line">rm -rf /var/*</span><br><span class="line"><span class="meta">#</span><span class="bash"> 重新挂载硬盘到/var目录</span></span><br><span class="line">umount /dev/sdb1</span><br><span class="line">mount /dev/sdb1 /var</span><br><span class="line"><span class="meta">#</span><span class="bash"> 过程中若提示磁盘忙，使用fuser找出将正在使用磁盘的程序并结束掉；</span></span><br><span class="line">fuser -m -v /var</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">partprobe /dev/sda</span><br><span class="line">partx -a /dev/sdb</span><br><span class="line"><span class="meta">#</span><span class="bash"> 验证情况</span></span><br></pre></td></tr></table></figure>



<h3 id="软连接"><a href="#软连接" class="headerlink" title="软连接"></a>软连接</h3><p>删除后，存放的数据不删除  </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ln –snf  /var/www/test1   /var/test  </span><br><span class="line"><span class="meta">#</span><span class="bash"> 意不要在后面加 ”/”</span></span><br><span class="line">rm –rf &lt;软链接名称&gt;</span><br><span class="line">ln –snf  &lt;新的源文件或目录&gt; &lt;目标文件或目录&gt;</span><br></pre></td></tr></table></figure>





<h3 id="目录文件"><a href="#目录文件" class="headerlink" title="目录文件"></a>目录文件</h3><blockquote>
<p>重要的配置文件位置</p>
</blockquote>
<p><strong>用户相关</strong></p>
<ul>
<li><p>/etc/passwd： 用户列表文件，是否是系统用户，是否可以登录</p>
</li>
<li><p>/etc/group：    用户组列表文件</p>
</li>
<li><p>/etc/sudoers: 可以有 sudo 权限的配置</p>
</li>
<li><p>/etc/profile： 环境变量配置</p>
</li>
<li><p>/etc/hosts：   host 文件位置</p>
</li>
<li><p>/etc/hostnames: 主机名</p>
</li>
<li><p>/etc/sysconfig/network-scripts/ifcfg-ensxx: 网卡设置</p>
</li>
<li><p>/etc/yum.repos.d/xxx.repo： 软件安装源</p>
</li>
<li><p>/var/logs： 日志存放位置</p>
</li>
</ul>
<p><strong>执行路径</strong></p>
<p>/usr/local/bin、/usr/bin、/usr/local/sbin、/usr/sbin</p>
<p>/home/<user_name>/bin: 可执行路径，常通过 ln -s … 的方式使全局可用</p>
<p><strong>文件操作</strong></p>
<p>基本操作， ls、touch、mkdir、cd、rm、cp、mv、pwd</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 复制、移动、重命名</span></span><br><span class="line">cp -r /user/newTest /test </span><br><span class="line">mv /test/newTest /usr </span><br><span class="line">mv aaa bbb</span><br><span class="line">rm -rf /user/newTst</span><br><span class="line"><span class="meta">#</span><span class="bash"> 文件的查看</span></span><br><span class="line">cat -n /etc/passwd </span><br><span class="line">tail /etc/passwd</span><br><span class="line">tail -3 /etc/passwd</span><br><span class="line">tail -f nohup.out</span><br><span class="line"><span class="meta">#</span><span class="bash"> 文件压缩与解压</span></span><br><span class="line">tar -cvf &lt;zip_name&gt; &lt;folder_name&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 复制并重命名</span></span><br><span class="line">copy -a nginx_playbooks wordpress_playbooks</span><br></pre></td></tr></table></figure>



<p><strong>文件上传下载</strong></p>
<blockquote>
<p>文件下载： wget、curl</p>
<p>文件上传： scp</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp </span><br></pre></td></tr></table></figure>



<p><strong>tar 命令</strong></p>
<ul>
<li>-z, –gzip, –gunzip, –ungzip   通过 gzip 过滤归档  </li>
<li>-c, –create: 创建一个新归档</li>
<li>-v, –verbose: 详细地列出处理的文件  </li>
<li>-f, –file=ARCHIVE: 使用归档文件或 ARCHIVE 设备  </li>
<li>-C, –directory=DIR: 改变至目录 DIR  </li>
<li>-x, –extract, –get: 从归档中解出文件  </li>
<li>-j, –bzip2 :  通过 bzip2 过滤归档  </li>
<li>-t, –list: 列出归档内容</li>
</ul>
<p>打包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -cvf /mydata/etc.tar /etc</span><br></pre></td></tr></table></figure>

<p>  打包并压缩</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zcvf /mydata/etc.tar.gz /etc</span><br></pre></td></tr></table></figure>


<p>用bzip2压缩文件夹/etc到文件/etc.tar.bz2：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -jcvf /mydata/etc.tar.bz2 /etc</span><br></pre></td></tr></table></figure>

<p>解压缩到指定目录  </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf etc.tar.gz -C /usr/local/</span><br></pre></td></tr></table></figure>


<p>找出指定时间范围内的日志文件，打包传输  </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">find . -name &quot;*04-29*&quot; -exec cp &#123;&#125; 200428_200505 \;</span><br><span class="line">find . -name &quot;*04-28*&quot; -exec cp &#123;&#125; 200428_200505 \;</span><br><span class="line">find . -name &quot;*04-30*&quot; -exec cp &#123;&#125; 200428_200505 \;</span><br><span class="line">find . -name &quot;*04-31*&quot; -exec cp &#123;&#125; 200428_200505 \;</span><br><span class="line">find . -name &quot;*05-01*&quot; -exec cp &#123;&#125; 200428_200505 \;</span><br><span class="line">find . -name &quot;*05-02*&quot; -exec cp &#123;&#125; 200428_200505 \;</span><br><span class="line">find . -name &quot;*05-03*&quot; -exec cp &#123;&#125; 200428_200505 \;</span><br><span class="line">find . -name &quot;*05-04*&quot; -exec cp &#123;&#125; 200428_200505 \;</span><br><span class="line">find . -name &quot;*05-05*&quot; -exec cp &#123;&#125; 200428_200505 \;</span><br><span class="line">tar -zcvf 200428_200505.tar.gz 200428_200505/</span><br></pre></td></tr></table></figure>



<h2 id="常用工具"><a href="#常用工具" class="headerlink" title="常用工具"></a>常用工具</h2><h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><ul>
<li>-maxdepth levels  </li>
<li>-atime n File was last accessed n*24 hours ago.   </li>
<li><em>-mtime n File’s  data  was  last  modified  n</em>24  hours ago.  </li>
<li>-size n[cwbkMG]    </li>
<li>-type c File is of type c  </li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 找出指定目录下文件的个数  </span></span><br><span class="line">find DIR_NAME -type f | wc -l</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 找出 /opt 目录下大于 800 M 的文件</span></span><br><span class="line">find /opt -type f -size +800M -print0 | xargs -0 du -h | sort -nr  </span><br><span class="line"><span class="meta">#</span><span class="bash"> 找到文件并移到 opt 目录  </span></span><br><span class="line">find / -name &quot;*tower*&quot; -exec rm &#123;&#125; \;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 找出系统中占用容量最大的前 12 个目录  </span></span><br><span class="line">du -hm --max-depth=2 | sort -nr | head -12</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 当前目录搜索lin开头的文件，然后用其搜索后的结果集，再执行ls -l的命令（这个命令可变，其他命令也可以），其中 -<span class="built_in">exec</span> 和 &#123;&#125; \; 都是固定格式  </span></span><br><span class="line">find . -name &quot;lin*&quot; -exec ls -l &#123;&#125; \;</span><br></pre></td></tr></table></figure>



<h3 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h3><p><code>-v</code>: 过滤掉</p>
<p><code>-i</code>: 忽略大小写</p>
<p><code>-n</code>: 打印行号</p>
<p><code>-H, --with-filename</code>: 打印文件名</p>
<p><code>-r</code>: 递归处理  </p>
<p><code>-d, --directories=ACTION</code>: 目录处理策略, <code>read</code>,<code>recurse</code>,<code>skip</code></p>
<p><code>-c</code>/<code>--count</code>: 打印匹配的数量</p>
<p><code>-w</code>: 匹配整个词</p>
<p><code>-x</code>: 整行</p>
<p>查看指定进程并过滤掉 grep 自身</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep namenode | grep -v grep</span><br></pre></td></tr></table></figure>

<p>正则匹配</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grep &quot;python|PYTHON&quot; file</span><br><span class="line">grep -E &quot;python|PYTHON&quot; file</span><br><span class="line">grep -F &quot;py.*&quot; file</span><br></pre></td></tr></table></figure>

<p>打印匹配行的前后5行 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -5 &#x27;parttern&#x27; INPUT_FILE </span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grep Full gclogs/fanruan.gc.log.2020-07-26</span><br><span class="line">grep -n Full gclogs/fanruan.gc.log.2020-07-26</span><br></pre></td></tr></table></figure>

<p>搜索指定字符，并显示匹配到的行号</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -n man /etc/man_db.conf</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3:# This file is used by the man-db package to configure the man and cat paths.</span><br><span class="line">4:# It is also used to provide a manpath for those without one by examining</span><br><span class="line">5:# their PATH environment variable. For details see the manpath(5) man page.</span><br></pre></td></tr></table></figure>

<p>查看单个/多个文件某字符出现的次数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">grep Full gclogs/* | wc -l</span><br><span class="line"><span class="meta">#</span><span class="bash"> count</span></span><br><span class="line">grep -c processor /proc/cpuinfo</span><br><span class="line"><span class="meta">#</span><span class="bash"> Show filename:count</span></span><br><span class="line">grep -c Full gclogs/*</span><br><span class="line">gclogs/fanruan.gc.log:1</span><br><span class="line">gclogs/fanruan.gc.log.2020-07-17:434</span><br><span class="line">gclogs/fanruan.gc.log.2020-07-18:1</span><br><span class="line">gclogs/fanruan.gc.log.2020-07-19:3</span><br><span class="line">...</span><br></pre></td></tr></table></figure>


<p>查看某个配置文件，排除掉里面以 # 开头的注释内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep &#x27;^[^#]&#x27; /etc/openvpn/server.conf</span><br></pre></td></tr></table></figure>
<p>查看某个配置文件，排除掉里面以 # 开头和 ; 开头的注释内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep &#x27;^[^#;]&#x27; /etc/openvpn/server.conf</span><br></pre></td></tr></table></figure>



<h3 id="sed"><a href="#sed" class="headerlink" title="sed"></a>sed</h3><blockquote>
<p> 轻量级流编辑器，一般用来处理文本类文件<br> 非交互式的编辑器, 它不会修改文件，除非使用 shell 重定向来保存结果。默认情况下，所有的输出行都被打印到屏幕上<br> sed -i 会实际写入  </p>
</blockquote>
<ul>
<li>  p 参数表示打印，一般配合 -n（安静模式）进行使用</li>
</ul>
<ul>
<li><p>c. 替换</p>
</li>
<li><p>s： 搜索并替换</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 显示网络接口的 Ip 地址  </span></span><br><span class="line">ifconfig eth0 |grep &#x27;inet&#x27; |sed &#x27;s/^.*inet//g&#x27; |sed &#x27;s/netmask.*$//g&#x27; |sed -n &#x27;1p&#x27;</span><br><span class="line">192.168.199.183  </span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 显示第 7 ~ 10 行内容</span></span><br><span class="line">sed -n &#x27;7,10p&#x27; /opt/log4j2.properties</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 将文件中每一行以 <span class="comment"># 开头的都替换掉空字符并展示</span></span></span><br><span class="line">sed &#x27;s/^#*//g&#x27; /opt/log4j2.properties</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 将 1 ~ 4 行内容替换成 GitNavi.com</span></span><br><span class="line">cat -n /opt/log4j2.properties |sed &#x27;1,4c GitNavi.com</span><br></pre></td></tr></table></figure>



<h3 id="日期和日历"><a href="#日期和日历" class="headerlink" title="日期和日历"></a>日期和日历</h3><ul>
<li><p><code>date +%Y</code>:  显示当前年份</p>
</li>
<li><p><code>date +%m</code>: 显示当前⽉份</p>
</li>
<li><p><code>date +%d</code>: 显示当前是哪⼀天</p>
</li>
<li><p><code>date &quot;+%Y-%m-%d %H:%M:%S&quot;</code> : 按照指定格式显示</p>
</li>
<li><p><code>date -d &#39;1 days ago&#39;</code>: 显示前⼀天⽇期</p>
</li>
<li><p><code>date -d yesterday +&quot;%Y-%m-%d&quot;</code>: 同上</p>
</li>
<li><p><code>date -d next-day +&quot;%Y-%m-%d&quot;</code>: 显示明天⽇期</p>
</li>
<li><p><code>date -d &#39;next monday&#39;</code>: 显示下周⼀时间</p>
</li>
<li><p><code>date -s 字符串时间</code>: 设置系统时间</p>
</li>
</ul>
<p>cal<br>查看日历。<br><code>cal -3</code>: 查看当前，上个，下个月的日历<br><code>cal 2020</code>: 查看指令年份的</p>
<h3 id="用户与权限"><a href="#用户与权限" class="headerlink" title="用户与权限"></a>用户与权限</h3><ul>
<li>open files: 可打开的文件限制  </li>
<li>file size: 可创建单个文件的最大大小?  </li>
<li>max memory size: 最大可用的内存大小  </li>
<li>stack size:  最大可使用的栈大小  </li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">ulimit -a</span><br><span class="line">core file size          (blocks, -c) 0</span><br><span class="line">data seg size           (kbytes, -d) unlimited</span><br><span class="line">scheduling priority             (-e) 0</span><br><span class="line">file size               (blocks, -f) unlimited</span><br><span class="line">pending signals                 (-i) 59459</span><br><span class="line">max locked memory       (kbytes, -l) 64</span><br><span class="line">max memory size         (kbytes, -m) unlimited</span><br><span class="line">open files                      (-n) 1024</span><br><span class="line">pipe size            (512 bytes, -p) 8</span><br><span class="line">POSIX message queues     (bytes, -q) 819200</span><br><span class="line">real-time priority              (-r) 0</span><br><span class="line">stack size              (kbytes, -s) 8192</span><br><span class="line">cpu time               (seconds, -t) unlimited</span><br><span class="line">max user processes              (-u) 59459</span><br><span class="line">virtual memory          (kbytes, -v) unlimited</span><br><span class="line">file locks                      (-x) unlimited</span><br></pre></td></tr></table></figure>

<ul>
<li><code>-</code>代表⽂件</li>
</ul>
<ul>
<li><p><code>d</code> 代表⽬录</p>
</li>
<li><p><code>c</code> 字符流，</p>
</li>
<li><p><code>s</code> socket</p>
</li>
<li><p><code>p</code> 管道</p>
</li>
<li><p><code>l</code> 链接⽂档(link ﬁle)</p>
</li>
<li><p><code>b</code> 设备⽂件</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chmod [&#123;ugoa&#125;&#123;+-=&#125;&#123;rwx&#125;] [⽂件或⽬录] [mode=421 ] [⽂件或⽬录]</span><br><span class="line"><span class="meta">#</span><span class="bash"> 改变⽂件或者⽬录的所有者</span></span><br><span class="line">chown [最终⽤户] [⽂件或⽬录] </span><br><span class="line"><span class="meta">#</span><span class="bash"> 改变⽂件或者⽬录的所属组</span></span><br><span class="line">chgrp [最终⽤户组] [⽂件或⽬录] </span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">useradd &lt;user-name&gt;</span><br><span class="line">passwd &lt;user-name&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 切换⽤户，只能获得⽤户的执⾏权限，不能获得环境变量</span></span><br><span class="line">su &lt;user-name&gt; </span><br><span class="line"><span class="meta">#</span><span class="bash"> 切换到⽤户并获得该⽤户的环境变量及执⾏权限</span></span><br><span class="line">su - &lt;user-name&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除⽤户但保存⽤户主⽬录</span></span><br><span class="line">userdel &lt;user-name&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> ⽤户和⽤户主⽬录，都删除</span></span><br><span class="line">userdel -r ⽤户名 </span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 让用户支持权限命令</span></span><br><span class="line">visudo</span><br><span class="line"><span class="meta">%</span><span class="bash">vagrant ALL=(ALL)   ALL</span></span><br></pre></td></tr></table></figure>

<p>/etc/sudoers</p>
<p>Allow root to run any commands anywhere </p>
<p>root ALL=(ALL) ALL </p>
<p>hadoop ALL=(ALL) ALL</p>
<p>cat /etc/passwd 查看创建了哪些⽤户</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">usermod -g &lt;⽤户组&gt; &lt;⽤户名&gt;</span><br><span class="line">groupadd &lt;组名&gt; &lt;代表⽬录&gt;</span><br><span class="line">groupdel &lt;组名&gt;</span><br><span class="line">groupmod -n &lt;新组名&gt; &lt;⽼组名&gt;</span><br><span class="line">cat /etc/group</span><br></pre></td></tr></table></figure>



<h2 id="Refs"><a href="#Refs" class="headerlink" title="Refs"></a>Refs</h2><ul>
<li>《UNIX 编程艺术》</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Janhen</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://example.com/2020/11/10/Linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">http://example.com/2020/11/10/Linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/12/17/Blog/"><img class="prev-cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info"></div></div></a></div><div class="next-post pull-right"><a href="/2020/11/10/Linux-%E5%B8%B8%E7%94%A8%E6%9C%8D%E5%8A%A1/"><img class="next-cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Linux 常用服务</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2020/11/10/Linux-常用服务/" title="Linux 常用服务"><img class="cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-11-10</div><div class="title">Linux 常用服务</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="http://img.janhen.com/20210331220602f7HmbN.pnghttp://img.janhen.com/20210331220602f7HmbN.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Janhen</div><div class="author-info__description">大数据、后端、运维分享</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">34</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">18</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">4</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Janhen"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-text">概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E8%AE%BE%E8%AE%A1"><span class="toc-text">命令设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E5%8F%82%E6%95%B0"><span class="toc-text">常见参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7"><span class="toc-text">命令工具</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4"><span class="toc-text">基础命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%9F%A5%E7%9C%8B"><span class="toc-text">信息查看</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C"><span class="toc-text">网络</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E7%9B%98"><span class="toc-text">磁盘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AF%E8%BF%9E%E6%8E%A5"><span class="toc-text">软连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6"><span class="toc-text">目录文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7"><span class="toc-text">常用工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#find"><span class="toc-text">find</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#grep"><span class="toc-text">grep</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sed"><span class="toc-text">sed</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%A5%E5%8E%86"><span class="toc-text">日期和日历</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9D%83%E9%99%90"><span class="toc-text">用户与权限</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Refs"><span class="toc-text">Refs</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/04/14/Spark-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E4%B8%8E%E6%8C%81%E4%B9%85%E5%8C%96/" title="Spark-内存管理与持久化"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark-内存管理与持久化"/></a><div class="content"><a class="title" href="/2021/04/14/Spark-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E4%B8%8E%E6%8C%81%E4%B9%85%E5%8C%96/" title="Spark-内存管理与持久化">Spark-内存管理与持久化</a><time datetime="2021-04-14T07:10:07.000Z" title="Created 2021-04-14 15:10:07">2021-04-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/14/Spark-%E7%AE%A1%E7%90%86/" title="Spark-管理"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark-管理"/></a><div class="content"><a class="title" href="/2021/04/14/Spark-%E7%AE%A1%E7%90%86/" title="Spark-管理">Spark-管理</a><time datetime="2021-04-14T05:52:17.000Z" title="Created 2021-04-14 13:52:17">2021-04-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/14/Spark-%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6%E5%92%8C%E4%BD%9C%E4%B8%9A%E6%89%A7%E8%A1%8C/" title="Spark-运行机制和作业执行"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark-运行机制和作业执行"/></a><div class="content"><a class="title" href="/2021/04/14/Spark-%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6%E5%92%8C%E4%BD%9C%E4%B8%9A%E6%89%A7%E8%A1%8C/" title="Spark-运行机制和作业执行">Spark-运行机制和作业执行</a><time datetime="2021-04-14T05:52:17.000Z" title="Created 2021-04-14 13:52:17">2021-04-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/09/Flume-%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86/" title="Flume-数据采集"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Flume-数据采集"/></a><div class="content"><a class="title" href="/2021/04/09/Flume-%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86/" title="Flume-数据采集">Flume-数据采集</a><time datetime="2021-04-09T08:56:07.000Z" title="Created 2021-04-09 16:56:07">2021-04-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/09/MySQL-%E7%AE%A1%E7%90%86/" title="MySQL-管理"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL-管理"/></a><div class="content"><a class="title" href="/2021/04/09/MySQL-%E7%AE%A1%E7%90%86/" title="MySQL-管理">MySQL-管理</a><time datetime="2021-04-08T17:10:05.000Z" title="Created 2021-04-09 01:10:05">2021-04-09</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Janhen</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>